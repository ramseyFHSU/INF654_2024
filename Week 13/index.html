<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Task Manager</title>
    <link rel="stylesheet" href="/css/materialize.min.css" />
    <link rel="manifest" href="manifest.json" />
    <!-- Import Google Icon Font -->
    <link
      href="https://fonts.googleapis.com/icon?family=Material+Icons"
      rel="stylesheet"
    />
    <style>
      /* Custom CSS for fixing layout issues */
      .brand-logo {
        max-width: 180px;
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
      }

      .nav-wrapper .container {
        display: flex;
        justify-content: space-between;
        align-items: center;
      }

      /* Fix for overlapping date and time labels */
      .input-field label {
        transform: translateY(-20px);
      }

      /* Ensure the form sidebar is scrollable */
      .side-form {
        overflow-y: auto;
      }

      /* Adjust padding and spacing in the form */
      .side-form .input-field {
        margin-top: 20px;
      }
    </style>
  </head>

  <body class="grey lighten-4">
    <header>
      <!-- Nav bar for Bigger screens -->
      <nav class="z-depth-0 orange lighten-4">
        <div class="nav-wrapper container">
          <a
            href="/"
            aria-label="Task Manager Home"
            class="brand-logo orange-text text-darken-2"
          >
            Task<span> Manager</span>
          </a>
          <!-- Hamburger Menu for medium and small screens -->
          <a
            href="#"
            data-target="mobile-menu"
            class="sidenav-trigger right hide-on-med-and-up black-text"
            aria-label="Open side menu"
          >
            <i class="material-icons">menu</i>
          </a>
          <!-- Navbar Links for large screens -->
          <ul class="right hide-on-small-and-down" id="nav-links">
            <li>
              <a href="/" class="waves-effect grey-text text-darken-4">Home</a>
            </li>
            <li>
              <a
                href="/pages/about.html"
                class="waves-effect grey-text text-darken-4"
                >About</a
              >
            </li>
            <li>
              <a
                href="/pages/contact.html"
                class="waves-effect grey-text text-darken-4"
                >Contact</a
              >
            </li>
            <li>
              <a
                href="#"
                id="logout-btn"
                class="waves-effect grey-text text-darken-4"
                style="display: none"
                >Logout</a
              >
            </li>
            <li>
              <a
                href="/pages/profile.html"
                class="waves-effect grey-text text-darken-4"
              >
                <i class="material-icons">person</i></a
              >
            </li>
          </ul>
        </div>
      </nav>
    </header>

    <aside>
      <!-- Sidenav for small and medium screens -->
      <ul class="sidenav" id="mobile-menu">
        <li><a class="subheader">TASK MANAGER</a></li>
        <li>
          <a href="/" class="waves-effect grey-text text-darken-4">Home</a>
        </li>
        <li>
          <a
            href="/pages/about.html"
            class="waves-effect grey-text text-darken-4"
            >About</a
          >
        </li>
        <li><div class="divider"></div></li>
        <li>
          <a
            href="/pages/contact.html"
            class="waves-effect grey-text text-darken-4"
          >
            <i class="material-icons">mail_outline</i>Contact</a
          >
        </li>
        <li>
          <a href="#" class="waves-effect grey-text text-darken-4">Logout</a>
        </li>
      </ul>
    </aside>

    <main>
      <button
        onclick="initNotificationPermission()"
        class="btn orange darken-2"
      >
        Enable Notifications
      </button>
      <!-- Tasks -->
      <div class="tasks container grey-text text-darken-1">
        <div class="card-panel white row valign-wrapper">
          <div class="col s2">
            <img
              src="/img/icons/task.png"
              class="circle responsive-img"
              alt="Task icon"
              style="max-width: 100%; height: auto"
            />
          </div>
          <div class="task-detail col s8">
            <h5 class="task-title black-text">Gardening</h5>
            <div class="task-description">Sample data</div>
          </div>
          <div class="col s2 right-align">
            <button class="task-delete btn-flat" aria-label="Delete task">
              <i
                class="large material-icons black-text-darken-1"
                style="font-size: 30px"
                >delete_outline</i
              >
            </button>
          </div>
        </div>

        <div class="card-panel white row valign-wrapper">
          <div class="col s2">
            <img
              src="/img/icons/task.png"
              class="circle responsive-img"
              alt="Task icon"
              style="max-width: 100%; height: auto"
            />
          </div>
          <div class="task-detail col s8">
            <h5 class="task-title black-text">Office work</h5>
            <div class="task-description">Sample data</div>
          </div>
          <div class="col s2 right-align">
            <button class="task-delete btn-flat" aria-label="Delete task">
              <i
                class="material-icons black-text text-darken-1"
                style="font-size: 30px"
                >delete</i
              >
            </button>
          </div>
        </div>
      </div>

      <div class="center">
        <button
          class="btn-floating btn-large orange darken-2 sidenav-trigger"
          data-target="side-form"
          aria-label="Add new task"
        >
          <i class="material-icons">add</i>
        </button>
      </div>

      <!-- Task Form Sidebar -->
      <div id="side-form" class="sidenav side-form">
        <form class="add-task container section">
          <h6 id="form-header">Add New Task</h6>
          <div class="divider"></div>
          <div class="input-field col s12">
            <label for="title" class="black-text">Task Title</label>
            <input
              placeholder="Enter Task title"
              id="title"
              class="validate"
              type="text"
            />
          </div>
          <div class="input-field col s12">
            <label for="description" class="black-text">Task Description</label>
            <input
              placeholder="Enter Task description"
              id="description"
              class="validate"
              type="text"
            />
          </div>
          <div class="input-field col s12">
            <label for="reminder-date" class="black-text">Reminder Date</label>
            <input id="reminder-date" type="date" class="validate" />
          </div>
          <div class="input-field col s12">
            <label for="reminder-time" class="black-text">Reminder Time</label>
            <input id="reminder-time" type="time" class="validate" />
          </div>
          <div class="input-field col s12">
            <button
              type="button"
              class="btn orange darken-2"
              onclick="getGeolocation()"
            >
              Add Location
            </button>
            <p id="location-status" class="grey-text text-darken-2">
              Location not set
            </p>
          </div>
          <input type="hidden" id="latitude" />
          <input type="hidden" id="longitude" />

          <input type="hidden" id="task-id" />
          <div class="input-field center">
            <button
              type="button"
              class="btn-small orange darken-2"
              id="form-action-btn"
            >
              Add
            </button>
          </div>
        </form>
      </div>
    </main>

    <script type="module" src="js/auth.js"></script>
    <script src="/js/materialize.min.js"></script>
    <script type="module" src="/js/ui.js"></script>
    <script type="module" src="/js/firebaseDB.js"></script>
  </body>
</html>
